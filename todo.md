# خريطة الأمن والتنظيم المروري التفاعلية - قائمة المهام

## المميزات الأساسية

- [ ] تصميم قاعدة البيانات (جداول المواقع والأفراد والمعلومات)
- [ ] إنشاء نماذج Django/Drizzle للمواقع والأفراد
- [ ] تطوير API للعمليات CRUD (إضافة، تعديل، حذف، استعراض)
- [ ] تصميم الواجهة الأمامية للخريطة التفاعلية
- [ ] دمج مكتبة الخريطة (Leaflet أو Mapbox)
- [ ] إضافة وظيفة عرض المواقع كدوائر على الخريطة
- [ ] إضافة وظيفة النقر على الدائرة لعرض تفاصيل الموقع والأفراد
- [ ] إضافة نموذج لإضافة موقع جديد
- [ ] إضافة نموذج لتعديل موقع موجود
- [ ] إضافة وظيفة حذف موقع
- [ ] إضافة نموذج لإضافة أفراد في موقع معين
- [ ] إضافة نموذج لتعديل بيانات الفرد
- [ ] إضافة وظيفة حذف فرد من الموقع
- [ ] جعل الخريطة تملأ الشاشة بالكامل
- [ ] إضافة نظام المصادقة والتحكم في الوصول
- [ ] إعداد الموقع للاستضافة على PythonAnywhere
- [ ] كتابة التوثيق والدليل المستخدم

## المميزات الإضافية (اختيارية)

- [ ] إضافة خاصية البحث عن موقع معين
- [ ] إضافة خاصية التصفية حسب نوع الأفراد (أمن/مروري)
- [ ] إضافة خاصية تصدير البيانات
- [ ] إضافة رسائل تنبيهات في الوقت الفعلي

## المتطلبات الإضافية من المستخدم

- [x] إضافة لوجو الدرعية واستخدام ألوانه في الموقع
- [x] تغيير اسم حقل "الرتبة" إلى "الدور"
- [x] إضافة خيار المشاركة (واتساب، إيميل، نسخ الرابط)
- [x] إنشاء صفحة عرض عام للخريطة بدون خيارات التعديل
- [x] تكبير الخريطة عند الضغط على الدائرة والعودة للعرض العام
- [x] استخدام النطاق المحدد للدرعية في الخريطة


## متطلبات إعادة التصميم

- [x] إعادة تصميم الصفحة الرئيسية لعرض الخريطة كاملة
- [x] إضافة كرت صغير في الأعلى اليمين بخيارات الإدارة
- [x] تحسين نموذج إضافة الموقع
- [x] تحسين نموذج إضافة الفرد الأمني
- [x] إضافة خيار عرض التفاصيل عند الضغط على الدائرة
- [x] تحسين عرض بيانات الأفراد والملاحظات

## متطلبات إضافية جديدة

- [x] تحويل الصفحة الرئيسية لعرض الخريطة مباشرة بدلاً من صفحة الترحيب
- [x] إضافة رابط للعودة إلى الصفحة الرئيسية من الخريطة


## مشاكل مكتشفة وإصلاحات

- [x] إصلاح مشكلة اختفاء الكرت عند الدخول للموقع
- [x] تصحيح مستوى التكبير والمركز لعرض الدرعية فقط
- [x] التأكد من عمل وظائف الإضافة والتعديل بشكل صحيح


## متطلبات جديدة - الإصلاحات الإضافية

- [x] إصلاح نهايئي لمشكلة اختفاء الكرت
- [x] البقاء على OpenStreetMap بدلاً من Google Maps
- [x] اختبار الوظائف بشكل كامل


## متطلبات جديدة - تحسينات الواجهة والوظائف

- [x] تعديل حجم وموقع كرت الإدارة ليطابق الصورة المرفقة
- [x] تغيير طريقة إضافة الموقع: اختيار من الخريطة بدلاً من النموذج المباشر
- [x] إضافة وضع الاختيار: الضغط على الخريطة لوضع نقطة
- [x] عرض كرت إدخال البيانات بعد اختيار الموقع


## مميزات إضافية مطلوبة

- [x] إضافة خيارات المشاركة (واتساب، إيميل، نسخ الرابط)
- [x] إنشاء صفحة عرض عام للخريطة بدون خيارات التعديل
- [x] تكبير/تصغير الخريطة عند الضغط على الدائرة
- [x] تحسين ألوان الدوائر حسب النوع (أمن/مروري/مختلط)
- [x] إضافة زر لعرض الموقع الحالي للمستخدم (GPS)


## تعديلات إضافية مطلوبة

- [x] تصغير حجم الدائرة (نطاق التمركز الافتراضي)
- [x] إزالة النص التوضيحي من حقل الدور في نموذج إضافة الفرد الأمني
